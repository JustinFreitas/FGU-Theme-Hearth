<?xml version="1.0" encoding="utf-8"?>
<root>
	<!-- Source: campaign/record_char.xml -->
	<windowclass name="charsheet" merge="join">
		<script>
			function onInit()
				if super and super.onInit then
					super.onInit();
				end
				if Session.IsHost then
					if User.getRulesetName() == "5E" then
						registerMenuItem(Interface.getString("menu_rest"), "restmenu", 7);
						registerMenuItem(Interface.getString("menu_restshort"), "rest_short", 7, 8);
						registerMenuItem(Interface.getString("menu_restlong"), "rest_long", 7, 6);
					end

					if StringManager.contains(Extension.getExtensions(), "ExtendedRest") then
						registerMenuItem(Interface.getString("menu_restextended"), "rest_extended", 8, 2);
					end
				end
			end
		</script>
	</windowclass>

	<!-- Source: campaign/record_char_main.xml -->
	<windowclass name="charsheet_classes" merge="join">
		<sheetdata>
			<basicnumber name="expneeded">
				<script>
					function onHover(oncontrol)
						if oncontrol then
							local draginfo = Input.getDragData();
							if draginfo and draginfo.isType("number") and draginfo.getNumberData() &lt; getValue() then
								setColor("FF6161");
							end
						else
							setColor(nil);
						end
					end
				</script>
			</basicnumber>
			<list_text name="classes">
				<child><backcolor>1A40301E</backcolor></child>
			</list_text>
		</sheetdata>
	</windowclass>
	<windowclass name="charsheet_hd" merge="join">
		<sheetdata>
			<numbercontrol name="hdcurrent">
				<color>DDDDDD</color>
			</numbercontrol>
		</sheetdata>
	</windowclass>
	<!-- Re-color is moved to script instead of xml to support rulesets that don't use the temphp box -->
	<windowclass name="charsheet_main" merge="join">
		<script>
			function onInit()
				if super and super.onInit then
					super.onInit();
				end
				if temphp then
					temphp.setColor("69B7FF");
				end
			end
		</script>
	</windowclass>
	
	<!-- Source: common/template_windows.xml -->
	<template name="close_charsheethelper">
		<close>
			<anchored>
				<top offset="14" />
				<right offset="-12" />
			</anchored>
		</close>
	</template>	

	<!-- Source: ct/ct_host.xml -->
	<!-- Re-color is moved to script instead of xml to support rulesets that don't use the temphp box -->
	<windowclass name="ct_entry" merge="join">
		<script>
			function onInit()
				if super and super.onInit then
					super.onInit();
				end
				if hptemp then
					hptemp.setColor("69B7FF");
				end
			end
		</script>
	</windowclass>
	<windowclass name="client_ct_entry" merge="join">
		<script>
			function onInit()
				if super and super.onInit then
					super.onInit();
				end
				if hptemp then
					hptemp.setColor("69B7FF");
				end
			end
		</script>
	</windowclass>

	<!-- Source: ct/ct_host.xml -->
	<windowclass name="combattracker_host" merge="join">
		<sheetdata>
			<button_ct_menu merge="join">
				<script>
					function onInit()
						if super and super.onInit then
							super.onInit();
						end
						if Session.IsHost then
							if User.getRulesetName() == "5E" then
								registerMenuItem(Interface.getString("menu_rest"), "restmenu", 8);
								registerMenuItem(Interface.getString("menu_restshort"), "rest_short", 8, 8);
								registerMenuItem(Interface.getString("menu_restlong"), "rest_long", 8, 6);
							end

							if StringManager.contains(Extension.getExtensions(), "ExtendedRest") then
								registerMenuItem(Interface.getString("menu_restextended"), "rest_extended", 8, 2);
							end
						end
					end
				</script>
			</button_ct_menu>
		</sheetdata>
	</windowclass>
</root>